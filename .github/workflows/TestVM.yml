name: Cl

on: 

 workflow_dispatch:
   inputs:
      NGROK_AUTHTOKEN:
        description: 'Enter Your Ngrok Authtoken'
        required: false
      ADD_USER:
        description: 'Enter Your Username'
        required: true
      USER_PASSWD:
        description: 'Enter Your Password'
        required: true

jobs:
  build:

    runs-on: windows-latest
    timeout-minutes: 9999

    steps:
    - name: Downloading Files
      run: |
        Invoke-WebRequest https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-windows-amd64.zip -OutFile ngrok.zip
    - name: Extract
      run: Expand-Archive ngrok.zip
    - name: Creating Windows Account
      run: |
        New-LocalUser "$Env:USERNAME" -Password $Env:PASSWD -FullName "$Env:USERNAME" -Description "none"
        Add-LocalGroupMember -Group "Administrators" -Member "$Env:USERNAME"
      env:
        USERNAME: ${{ github.event.inputs.ADD_USER }}
        PASSWD: ${{ github.event.inputs.USER_PASSWD }}
